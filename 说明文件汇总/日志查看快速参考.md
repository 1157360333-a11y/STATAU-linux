# æ—¥å¿—æŸ¥çœ‹å¿«é€Ÿå‚è€ƒ

## ğŸ“‹ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥è¡¨

### å®æ—¶æŸ¥çœ‹æ—¥å¿—

```bash
# å®æ—¶æŸ¥çœ‹ Gunicorn é”™è¯¯æ—¥å¿—ï¼ˆæœ€å¸¸ç”¨ï¼‰
tail -f /var/www/STATAU/logs/gunicorn_error.log

# å®æ—¶æŸ¥çœ‹ Gunicorn è®¿é—®æ—¥å¿—
tail -f /var/www/STATAU/logs/gunicorn_access.log

# å®æ—¶æŸ¥çœ‹ systemd æœåŠ¡æ—¥å¿—
sudo journalctl -u statau -f
```

### æŸ¥çœ‹å†å²æ—¥å¿—

```bash
# æŸ¥çœ‹æœ€å 50 è¡Œé”™è¯¯æ—¥å¿—
tail -n 50 /var/www/STATAU/logs/gunicorn_error.log

# æŸ¥çœ‹æœ€å 100 è¡Œè®¿é—®æ—¥å¿—
tail -n 100 /var/www/STATAU/logs/gunicorn_access.log

# æŸ¥çœ‹å®Œæ•´æ—¥å¿—
cat /var/www/STATAU/logs/gunicorn_error.log
```

### æœç´¢ç‰¹å®šå†…å®¹

```bash
# æœç´¢åŒ…å« "error" çš„æ—¥å¿—
grep -i "error" /var/www/STATAU/logs/gunicorn_error.log

# æœç´¢åŒ…å« "traceback" çš„æ—¥å¿—ï¼ˆPython é”™è¯¯å †æ ˆï¼‰
grep -i "traceback" /var/www/STATAU/logs/gunicorn_error.log

# æœç´¢ 500 é”™è¯¯
grep "500" /var/www/STATAU/logs/gunicorn_access.log

# æœç´¢æœ€è¿‘ 20 æ¡é”™è¯¯
grep -i "error" /var/www/STATAU/logs/gunicorn_error.log | tail -20
```

### æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status statau

# é‡å¯æœåŠ¡
sudo systemctl restart statau

# åœæ­¢æœåŠ¡
sudo systemctl stop statau

# å¯åŠ¨æœåŠ¡
sudo systemctl start statau

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
sudo journalctl -u statau -n 50
```

### æ—¥å¿—æ–‡ä»¶ä½ç½®

| æ—¥å¿—ç±»å‹ | æ–‡ä»¶è·¯å¾„ |
|---------|---------|
| é”™è¯¯æ—¥å¿— | `/var/www/STATAU/logs/gunicorn_error.log` |
| è®¿é—®æ—¥å¿— | `/var/www/STATAU/logs/gunicorn_access.log` |
| PID æ–‡ä»¶ | `/var/www/STATAU/logs/gunicorn.pid` |

### å¸¸è§é—®é¢˜æ’æŸ¥

```bash
# 1. æœåŠ¡æ— æ³•å¯åŠ¨
sudo systemctl status statau
sudo journalctl -u statau -n 50

# 2. æŸ¥çœ‹æœ€æ–°é”™è¯¯
tail -n 50 /var/www/STATAU/logs/gunicorn_error.log

# 3. æ£€æŸ¥æ—¥å¿—æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -lh /var/www/STATAU/logs/

# 4. åˆ›å»ºæ—¥å¿—ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
mkdir -p /var/www/STATAU/logs
chmod 755 /var/www/STATAU/logs

# 5. é‡å¯æœåŠ¡å¹¶æŸ¥çœ‹æ—¥å¿—
sudo systemctl restart statau && sudo journalctl -u statau -f
```

### æ—¥å¿—åˆ†æ

```bash
# ç»Ÿè®¡æ€»è®¿é—®æ¬¡æ•°
wc -l /var/www/STATAU/logs/gunicorn_access.log

# ç»Ÿè®¡å„çŠ¶æ€ç æ•°é‡
awk '{print $9}' /var/www/STATAU/logs/gunicorn_access.log | sort | uniq -c | sort -rn

# æŸ¥æ‰¾å¤„ç†æ—¶é—´è¶…è¿‡ 5 ç§’çš„è¯·æ±‚
awk '$NF > 5000000' /var/www/STATAU/logs/gunicorn_access.log

# ç»Ÿè®¡è®¿é—®æœ€å¤šçš„ URL
awk '{print $7}' /var/www/STATAU/logs/gunicorn_access.log | sort | uniq -c | sort -rn | head -10
```

---

## ğŸ” è¯¦ç»†æ–‡æ¡£

æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·æŸ¥çœ‹ï¼š
- [Gunicornæ—¥å¿—é…ç½®æŒ‡å—.md](Gunicornæ—¥å¿—é…ç½®æŒ‡å—.md) - å®Œæ•´çš„æ—¥å¿—é…ç½®è¯´æ˜
- [éƒ¨ç½².md](éƒ¨ç½².md) - æœåŠ¡å™¨éƒ¨ç½²æŒ‡å—
